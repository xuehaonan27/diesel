<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Contains traits responsible for the actual construction of SQL statements"><title>diesel::query_builder - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-dbdb5eec.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="diesel" data-themes="" data-resource-suffix="" data-rustdoc-version="1.85.0-nightly (d49be02cf 2024-12-02)" data-channel="nightly" data-search-js="search-92e6798f.js" data-settings-js="settings-0f613d39.js" ><script src="../../static.files/storage-59e33391.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../static.files/main-5f194d8c.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../diesel/index.html">diesel</a><span class="version">2.2.6</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Module query_<wbr>builder</a></h2><h3><a href="#reexports">Module Items</a></h3><ul class="block"><li><a href="#reexports" title="Re-exports">Re-exports</a></li><li><a href="#modules" title="Modules">Modules</a></li><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#traits" title="Traits">Traits</a></li><li><a href="#functions" title="Functions">Functions</a></li><li><a href="#types" title="Type Aliases">Type Aliases</a></li><li><a href="#derives" title="Derive Macros">Derive Macros</a></li></ul></section><div id="rustdoc-modnav"><h2 class="in-crate"><a href="../index.html">In crate diesel</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><span class="rustdoc-breadcrumbs"><a href="../index.html">diesel</a></span><h1>Module <span>query_builder</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/diesel/query_builder/mod.rs.html#1-428">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Contains traits responsible for the actual construction of SQL statements</p>
<p>The types in this module are part of Diesel’s public API, but are generally
only useful for implementing Diesel plugins. Applications should generally
not need to care about the types inside of this module.</p>
</div></details><h2 id="reexports" class="section-header">Re-exports<a href="#reexports" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name" id="reexport.TablesampleMethod"><code>pub use crate::pg::query_builder::tablesample::TablesampleMethod;</code></div><div class="desc docblock-short"><wbr><span class="stab portability" title="Available on crate feature `postgres_backend` only"><code>postgres_backend</code></span></div></li></ul><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="bind_collector/index.html" title="mod diesel::query_builder::bind_collector">bind_<wbr>collector</a></div><div class="desc docblock-short">Types related to managing bind parameters during query construction.</div></li></ul><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.AstPass.html" title="struct diesel::query_builder::AstPass">AstPass</a></div><div class="desc docblock-short">The primary type used when walking a Diesel AST during query execution.</div></li><li><div class="item-name"><a class="struct" href="struct.AstPassToSqlOptions.html" title="struct diesel::query_builder::AstPassToSqlOptions">AstPass<wbr>ToSql<wbr>Options</a><wbr><span class="stab portability" title="Available on crate feature `i-implement-a-third-party-backend-and-opt-into-breaking-changes` only"><code>i-implement-a-third-party-backend-and-opt-into-breaking-changes</code></span></div><div class="desc docblock-short">This is used to pass down additional settings to the <code>AstPass</code>
when rendering the sql string.</div></li><li><div class="item-name"><a class="struct" href="struct.BatchInsert.html" title="struct diesel::query_builder::BatchInsert">Batch<wbr>Insert</a><wbr><span class="stab portability" title="Available on crate feature `i-implement-a-third-party-backend-and-opt-into-breaking-changes` only"><code>i-implement-a-third-party-backend-and-opt-into-breaking-changes</code></span></div><div class="desc docblock-short">This type represents a batch insert clause, which allows
to insert multiple rows at once.</div></li><li><div class="item-name"><a class="struct" href="struct.BoxedLimitOffsetClause.html" title="struct diesel::query_builder::BoxedLimitOffsetClause">Boxed<wbr>Limit<wbr>Offset<wbr>Clause</a><wbr><span class="stab portability" title="Available on crate feature `i-implement-a-third-party-backend-and-opt-into-breaking-changes` only"><code>i-implement-a-third-party-backend-and-opt-into-breaking-changes</code></span></div><div class="desc docblock-short">A boxed variant of <a href="struct.LimitOffsetClause.html" title="struct diesel::query_builder::LimitOffsetClause"><code>LimitOffsetClause</code></a></div></li><li><div class="item-name"><a class="struct" href="struct.BoxedSelectStatement.html" title="struct diesel::query_builder::BoxedSelectStatement">Boxed<wbr>Select<wbr>Statement</a><wbr><span class="stab portability" title="Available on crate feature `i-implement-a-third-party-backend-and-opt-into-breaking-changes` only"><code>i-implement-a-third-party-backend-and-opt-into-breaking-changes</code></span></div><div class="desc docblock-short">This type represents a boxed select query</div></li><li><div class="item-name"><a class="struct" href="struct.BoxedSqlQuery.html" title="struct diesel::query_builder::BoxedSqlQuery">Boxed<wbr>SqlQuery</a></div><div class="desc docblock-short">See <a href="struct.SqlQuery.html#method.into_boxed" title="method diesel::query_builder::SqlQuery::into_boxed"><code>SqlQuery::into_boxed</code></a>.</div></li><li><div class="item-name"><a class="struct" href="struct.CollectedQuery.html" title="struct diesel::query_builder::CollectedQuery">Collected<wbr>Query</a><wbr><span class="stab portability" title="Available on crate feature `i-implement-a-third-party-backend-and-opt-into-breaking-changes` only"><code>i-implement-a-third-party-backend-and-opt-into-breaking-changes</code></span></div><div class="desc docblock-short">A SQL query variant with already collected bind data which can be moved</div></li><li><div class="item-name"><a class="struct" href="struct.DebugQuery.html" title="struct diesel::query_builder::DebugQuery">Debug<wbr>Query</a></div><div class="desc docblock-short">A struct that implements <code>fmt::Display</code> and <code>fmt::Debug</code> to show the SQL
representation of a query.</div></li><li><div class="item-name"><a class="struct" href="struct.DefaultValues.html" title="struct diesel::query_builder::DefaultValues">Default<wbr>Values</a><wbr><span class="stab portability" title="Available on crate feature `i-implement-a-third-party-backend-and-opt-into-breaking-changes` only"><code>i-implement-a-third-party-backend-and-opt-into-breaking-changes</code></span></div></li><li><div class="item-name"><a class="struct" href="struct.DeleteStatement.html" title="struct diesel::query_builder::DeleteStatement">Delete<wbr>Statement</a></div><div class="desc docblock-short">Represents a SQL <code>DELETE</code> statement.</div></li><li><div class="item-name"><a class="struct" href="struct.FromClause.html" title="struct diesel::query_builder::FromClause">From<wbr>Clause</a><wbr><span class="stab portability" title="Available on crate feature `i-implement-a-third-party-backend-and-opt-into-breaking-changes` only"><code>i-implement-a-third-party-backend-and-opt-into-breaking-changes</code></span></div></li><li><div class="item-name"><a class="struct" href="struct.IncompleteInsertStatement.html" title="struct diesel::query_builder::IncompleteInsertStatement">Incomplete<wbr>Insert<wbr>Statement</a></div><div class="desc docblock-short">The structure returned by <a href="../dsl/fn.insert_into.html" title="fn diesel::dsl::insert_into"><code>insert_into</code></a>.</div></li><li><div class="item-name"><a class="struct" href="struct.InsertStatement.html" title="struct diesel::query_builder::InsertStatement">Insert<wbr>Statement</a><wbr><span class="stab portability" title="Available on crate feature `i-implement-a-third-party-backend-and-opt-into-breaking-changes` only"><code>i-implement-a-third-party-backend-and-opt-into-breaking-changes</code></span></div><div class="desc docblock-short">A fully constructed insert statement.</div></li><li><div class="item-name"><a class="struct" href="struct.LimitClause.html" title="struct diesel::query_builder::LimitClause">Limit<wbr>Clause</a><wbr><span class="stab portability" title="Available on crate feature `i-implement-a-third-party-backend-and-opt-into-breaking-changes` only"><code>i-implement-a-third-party-backend-and-opt-into-breaking-changes</code></span></div><div class="desc docblock-short">A query node representing a limit clause</div></li><li><div class="item-name"><a class="struct" href="struct.LimitOffsetClause.html" title="struct diesel::query_builder::LimitOffsetClause">Limit<wbr>Offset<wbr>Clause</a><wbr><span class="stab portability" title="Available on crate feature `i-implement-a-third-party-backend-and-opt-into-breaking-changes` only"><code>i-implement-a-third-party-backend-and-opt-into-breaking-changes</code></span></div><div class="desc docblock-short">A helper query node that contains both limit and offset clauses</div></li><li><div class="item-name"><a class="struct" href="struct.NoFromClause.html" title="struct diesel::query_builder::NoFromClause">NoFrom<wbr>Clause</a><wbr><span class="stab portability" title="Available on crate feature `i-implement-a-third-party-backend-and-opt-into-breaking-changes` only"><code>i-implement-a-third-party-backend-and-opt-into-breaking-changes</code></span></div><div class="desc docblock-short">This type represents a not existing from clause</div></li><li><div class="item-name"><a class="struct" href="struct.NoLimitClause.html" title="struct diesel::query_builder::NoLimitClause">NoLimit<wbr>Clause</a><wbr><span class="stab portability" title="Available on crate feature `i-implement-a-third-party-backend-and-opt-into-breaking-changes` only"><code>i-implement-a-third-party-backend-and-opt-into-breaking-changes</code></span></div><div class="desc docblock-short">A query node indicating the absence of a limit clause</div></li><li><div class="item-name"><a class="struct" href="struct.NoOffsetClause.html" title="struct diesel::query_builder::NoOffsetClause">NoOffset<wbr>Clause</a><wbr><span class="stab portability" title="Available on crate feature `i-implement-a-third-party-backend-and-opt-into-breaking-changes` only"><code>i-implement-a-third-party-backend-and-opt-into-breaking-changes</code></span></div><div class="desc docblock-short">A query node indicating the absence of an offset clause</div></li><li><div class="item-name"><a class="struct" href="struct.OffsetClause.html" title="struct diesel::query_builder::OffsetClause">Offset<wbr>Clause</a><wbr><span class="stab portability" title="Available on crate feature `i-implement-a-third-party-backend-and-opt-into-breaking-changes` only"><code>i-implement-a-third-party-backend-and-opt-into-breaking-changes</code></span></div><div class="desc docblock-short">A query node representing an offset clause</div></li><li><div class="item-name"><a class="struct" href="struct.Only.html" title="struct diesel::query_builder::Only">Only</a><wbr><span class="stab portability" title="Available on crate feature `postgres_backend` only"><code>postgres_backend</code></span></div><div class="desc docblock-short">Represents a query with an <code>ONLY</code> clause.</div></li><li><div class="item-name"><a class="struct" href="struct.ReturningClause.html" title="struct diesel::query_builder::ReturningClause">Returning<wbr>Clause</a><wbr><span class="stab portability" title="Available on crate feature `i-implement-a-third-party-backend-and-opt-into-breaking-changes` only"><code>i-implement-a-third-party-backend-and-opt-into-breaking-changes</code></span></div><div class="desc docblock-short">This type represents a SQL <code>Returning</code> clause</div></li><li><div class="item-name"><a class="struct" href="struct.SelectStatement.html" title="struct diesel::query_builder::SelectStatement">Select<wbr>Statement</a><wbr><span class="stab portability" title="Available on crate feature `i-implement-a-third-party-backend-and-opt-into-breaking-changes` only"><code>i-implement-a-third-party-backend-and-opt-into-breaking-changes</code></span></div><div class="desc docblock-short">This type represents a select query</div></li><li><div class="item-name"><a class="struct" href="struct.SqlQuery.html" title="struct diesel::query_builder::SqlQuery">SqlQuery</a></div><div class="desc docblock-short">The return value of <code>sql_query</code>.</div></li><li><div class="item-name"><a class="struct" href="struct.Tablesample.html" title="struct diesel::query_builder::Tablesample">Tablesample</a><wbr><span class="stab portability" title="Available on crate feature `postgres_backend` only"><code>postgres_backend</code></span></div><div class="desc docblock-short">Represents a query with a <code>TABLESAMPLE</code> clause.</div></li><li><div class="item-name"><a class="struct" href="struct.UpdateStatement.html" title="struct diesel::query_builder::UpdateStatement">Update<wbr>Statement</a></div><div class="desc docblock-short">Represents a complete <code>UPDATE</code> statement.</div></li><li><div class="item-name"><a class="struct" href="struct.UpdateTarget.html" title="struct diesel::query_builder::UpdateTarget">Update<wbr>Target</a></div></li><li><div class="item-name"><a class="struct" href="struct.ValuesClause.html" title="struct diesel::query_builder::ValuesClause">Values<wbr>Clause</a><wbr><span class="stab portability" title="Available on crate feature `i-implement-a-third-party-backend-and-opt-into-breaking-changes` only"><code>i-implement-a-third-party-backend-and-opt-into-breaking-changes</code></span></div><div class="desc docblock-short">This type represents a values clause used as part of insert statements</div></li></ul><h2 id="traits" class="section-header">Traits<a href="#traits" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.AsChangeset.html" title="trait diesel::query_builder::AsChangeset">AsChangeset</a></div><div class="desc docblock-short">Types which can be passed to
<a href="struct.UpdateStatement.html#method.set" title="method diesel::query_builder::UpdateStatement::set"><code>update.set</code></a>.</div></li><li><div class="item-name"><a class="trait" href="trait.AsQuery.html" title="trait diesel::query_builder::AsQuery">AsQuery</a></div><div class="desc docblock-short">Types that can be converted into a complete, typed SQL query.</div></li><li><div class="item-name"><a class="trait" href="trait.BindCollector.html" title="trait diesel::query_builder::BindCollector">Bind<wbr>Collector</a></div><div class="desc docblock-short">A type which manages serializing bind parameters during query construction.</div></li><li><div class="item-name"><a class="trait" href="trait.DecoratableTarget.html" title="trait diesel::query_builder::DecoratableTarget">Decoratable<wbr>Target</a></div><div class="desc docblock-short">Interface to add information to conflict targets.
Designed to be open for further additions to conflict targets like constraints</div></li><li><div class="item-name"><a class="trait" href="trait.IntoBoxedClause.html" title="trait diesel::query_builder::IntoBoxedClause">Into<wbr>Boxed<wbr>Clause</a></div><div class="desc docblock-short">A trait used to construct type erased boxed variant of the current query node</div></li><li><div class="item-name"><a class="trait" href="trait.IntoUpdateTarget.html" title="trait diesel::query_builder::IntoUpdateTarget">Into<wbr>Update<wbr>Target</a></div><div class="desc docblock-short">A type which can be passed to <a href="../dsl/fn.update.html" title="fn diesel::dsl::update"><code>update</code></a> or <a href="../dsl/fn.delete.html" title="fn diesel::dsl::delete"><code>delete</code></a>.</div></li><li><div class="item-name"><a class="trait" href="trait.MoveableBindCollector.html" title="trait diesel::query_builder::MoveableBindCollector">Moveable<wbr>Bind<wbr>Collector</a><wbr><span class="stab portability" title="Available on crate feature `i-implement-a-third-party-backend-and-opt-into-breaking-changes` only"><code>i-implement-a-third-party-backend-and-opt-into-breaking-changes</code></span></div><div class="desc docblock-short">A movable version of the bind collector which allows it to be extracted, moved and refilled.</div></li><li><div class="item-name"><a class="trait" href="trait.Query.html" title="trait diesel::query_builder::Query">Query</a></div><div class="desc docblock-short">A complete SQL query with a return type.</div></li><li><div class="item-name"><a class="trait" href="trait.QueryBuilder.html" title="trait diesel::query_builder::QueryBuilder">Query<wbr>Builder</a></div><div class="desc docblock-short">Constructs a SQL query from a Diesel AST.</div></li><li><div class="item-name"><a class="trait" href="trait.QueryFragment.html" title="trait diesel::query_builder::QueryFragment">Query<wbr>Fragment</a></div><div class="desc docblock-short">An untyped fragment of SQL.</div></li><li><div class="item-name"><a class="trait" href="trait.QueryId.html" title="trait diesel::query_builder::QueryId">QueryId</a></div><div class="desc docblock-short">Uniquely identifies queries by their type for the purpose of prepared
statement caching.</div></li><li><div class="item-name"><a class="trait" href="trait.SelectClauseExpression.html" title="trait diesel::query_builder::SelectClauseExpression">Select<wbr>Clause<wbr>Expression</a><wbr><span class="stab portability" title="Available on crate feature `i-implement-a-third-party-backend-and-opt-into-breaking-changes` only"><code>i-implement-a-third-party-backend-and-opt-into-breaking-changes</code></span></div><div class="desc docblock-short">Specialised variant of <code>Expression</code> for select clause types</div></li><li><div class="item-name"><a class="trait" href="trait.SelectQuery.html" title="trait diesel::query_builder::SelectQuery">Select<wbr>Query</a></div><div class="desc docblock-short">Indicates that a type is a <code>SELECT</code> statement.</div></li><li><div class="item-name"><a class="trait" href="trait.UndecoratedInsertRecord.html" title="trait diesel::query_builder::UndecoratedInsertRecord">Undecorated<wbr>Insert<wbr>Record</a><wbr><span class="stab portability" title="Available on crate feature `i-implement-a-third-party-backend-and-opt-into-breaking-changes` only"><code>i-implement-a-third-party-backend-and-opt-into-breaking-changes</code></span></div><div class="desc docblock-short">Marker trait to indicate that no additional operations have been added
to a record for insert.</div></li></ul><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.debug_query.html" title="fn diesel::query_builder::debug_query">debug_<wbr>query</a></div><div class="desc docblock-short">Takes a query <code>QueryFragment</code> expression as an argument and returns a type
that implements <code>fmt::Display</code> and <code>fmt::Debug</code> to show the query.</div></li></ul><h2 id="types" class="section-header">Type Aliases<a href="#types" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="type" href="type.BoxedDeleteStatement.html" title="type diesel::query_builder::BoxedDeleteStatement">Boxed<wbr>Delete<wbr>Statement</a></div><div class="desc docblock-short">A <code>DELETE</code> statement with a boxed <code>WHERE</code> clause</div></li><li><div class="item-name"><a class="type" href="type.BoxedUpdateStatement.html" title="type diesel::query_builder::BoxedUpdateStatement">Boxed<wbr>Update<wbr>Statement</a></div><div class="desc docblock-short">An <code>UPDATE</code> statement with a boxed <code>WHERE</code> clause.</div></li><li><div class="item-name"><a class="type" href="type.BuildQueryResult.html" title="type diesel::query_builder::BuildQueryResult">Build<wbr>Query<wbr>Result</a></div><div class="desc docblock-short">A specialized Result type used with the query builder.</div></li><li><div class="item-name"><a class="type" href="type.IncompleteInsertOrIgnoreStatement.html" title="type diesel::query_builder::IncompleteInsertOrIgnoreStatement">Incomplete<wbr>Insert<wbr>OrIgnore<wbr>Statement</a></div><div class="desc docblock-short">Represents the return type of <a href="../dsl/fn.insert_or_ignore_into.html" title="fn diesel::dsl::insert_or_ignore_into"><code>diesel::insert_or_ignore_into</code></a></div></li><li><div class="item-name"><a class="type" href="type.IncompleteReplaceStatement.html" title="type diesel::query_builder::IncompleteReplaceStatement">Incomplete<wbr>Replace<wbr>Statement</a></div><div class="desc docblock-short">Represents the return type of <a href="../dsl/fn.replace_into.html" title="fn diesel::dsl::replace_into"><code>diesel::replace_into</code></a></div></li><li><div class="item-name"><a class="type" href="type.InsertOrIgnoreStatement.html" title="type diesel::query_builder::InsertOrIgnoreStatement">Insert<wbr>OrIgnore<wbr>Statement</a></div><div class="desc docblock-short">Represents a complete <code>INSERT OR IGNORE</code> statement.</div></li><li><div class="item-name"><a class="type" href="type.ReplaceStatement.html" title="type diesel::query_builder::ReplaceStatement">Replace<wbr>Statement</a></div><div class="desc docblock-short">Represents a complete <code>INSERT OR REPLACE</code> statement.</div></li></ul><h2 id="derives" class="section-header">Derive Macros<a href="#derives" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="derive" href="derive.AsChangeset.html" title="derive diesel::query_builder::AsChangeset">AsChangeset</a></div><div class="desc docblock-short">Implements <code>AsChangeset</code></div></li><li><div class="item-name"><a class="derive" href="derive.QueryId.html" title="derive diesel::query_builder::QueryId">QueryId</a></div><div class="desc docblock-short">Implements <code>QueryId</code></div></li></ul></section></div></main></body></html>